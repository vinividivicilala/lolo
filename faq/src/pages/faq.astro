---
// faq.astro
import Layout from '../layouts/Layout.astro';
import FAQItem from '../components/FAQItem.astro';

// Data FAQ untuk memudahkan iterasi
const faqData = [
  {
    index: "1",
    icon: "üöÄ",
    question: "Apa itu Astro?",
    answer: "Astro adalah framework modern untuk membangun website statis dan hybrid yang super cepat. Astro memungkinkan developer menggunakan berbagai framework UI (seperti React, Vue, Svelte) dalam satu proyek."
  },
  {
    index: "2",
    icon: "üìÇ",
    question: "Di mana letak gambar?",
    answer: "Gambar disimpan di folder /public/images. Contohnya di sini: /images/5.jpg. Pastikan untuk mengoptimalkan gambar sebelum menggunakannya di website untuk performa yang lebih baik."
  },
  {
    index: "3",
    icon: "üîó",
    question: "Apakah ada tautan ke luar?",
    answer: `Ya, berikut adalah beberapa tautan penting:
      <br><br>
      <a href="https://astro.build" target="_blank">üìÑ Dokumentasi Astro</a><br>
      <a href="https://github.com/withastro/astro" target="_blank">üíª GitHub Repository</a><br>
      <a href="https://astro.build/integrations/" target="_blank">üîå Integrasi Astro</a>`
  },
  {
    index: "4",
    icon: "‚öôÔ∏è",
    question: "Bagaimana cara instalasi Astro?",
    answer: `Untuk menginstall Astro, Anda dapat menggunakan perintah berikut:
      <br><br>
      <code>npm create astro@latest</code>
      <br><br>
      Ikuti petunjuk di command line untuk menyelesaikan proses instalasi.`
  },
  {
    index: "5",
    icon: "üåê",
    question: "Apakah Astro mendukung SSR?",
    answer: "Ya, Astro mendukung Server-Side Rendering (SSR) melalui adapter. Anda dapat menambahkan SSR ke proyek Astro dengan menginstall adapter untuk deployment target Anda (seperti Netlify, Vercel, atau Node.js)."
  },
  {
    index: "6",
    icon: "üì±",
    question: "Apakah Astro responsive?",
    answer: "Ya, Astro menghasilkan website yang fully responsive. Developer dapat dengan mudah membuat layout yang responsive dengan menggunakan CSS biasa atau framework CSS seperti Tailwind."
  }
];
---

<Layout title="FAQ | Astro Example" description="Halaman FAQ dengan animasi, gambar, dan icon." currentPage="faq">
  <div class="container">
    <main class="main-content">
      <!-- Teks Berjalan (Marquee) - MEMENUHI LAYAR -->
      <div class="marquee-fullwidth">
        <div class="marquee-content-large">
          ‚ùì Tanya Jawab Seputar Astro & Development Web ‚Ä¢ üöÄ Tips & Trik Terbaru ‚Ä¢ üìö Sumber Belajar Terpercaya ‚Ä¢
        </div>
      </div>
      
      <div class="text-center">
        <h1 class="page-title">
          ‚ùì Frequently Asked Questions
        </h1>
        
        <div class="update-info">
          Last update: <span id="currentDate"></span>
        </div>
      </div>

      <div class="image-container">
        <img src="/images/5.jpg" alt="Ilustrasi FAQ" class="faq-image" />
      </div>

      <div class="faq-items">
        {faqData.map((faq, index) => (
          <div data-framer data-index={index}>
            <FAQItem 
              index={faq.index} 
              icon={faq.icon} 
              question={faq.question}
              answer={faq.answer}
            />
          </div>
        ))}
      </div>
    </main>
  </div>

  <!-- Blok Warna Besar di Bagian Bawah - DIPERBESAR LAGI -->
  <div class="color-block-extra-large">
    <div class="color-block-content">
      <h2>Masih Punya Pertanyaan?</h2>
      <p>Jangan ragu untuk menghubungi kami melalui email atau media sosial. Tim support kami siap membantu Anda dengan segala pertanyaan terkait Astro dan pengembangan web. Kami berkomitmen untuk memberikan respon terbaik dalam waktu 24 jam.</p>
      <a href="/contact" class="cta-button-large">Hubungi Kami Sekarang</a>
    </div>
  </div>
</Layout>

<style>
  /* Import Google Fonts untuk typography yang lebih modern */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
  
  body {
    background: #f8fafc;
    color: #334155;
    min-height: 100vh;
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
  
  .main-content {
    padding: 40px 0;
  }

  /* Styling untuk teks berjalan - MEMENUHI LAYAR PENUH */
  .marquee-fullwidth {
    overflow: hidden;
    position: relative;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    padding: 30px 0;
    margin-bottom: 60px;
  }
  
  .marquee-content-large {
    white-space: nowrap;
    display: inline-block;
    padding-left: 100%;
    animation: marquee 18s linear infinite;
    font-size: 3rem; /* Font lebih besar */
    font-weight: 800;
    color: #000; /* Warna hitam */
  }
  
  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
  }
  
  /* Judul halaman */
  .text-center {
    text-align: center;
    margin-bottom: 40px;
  }
  
  .page-title {
    font-size: 2.8rem;
    font-weight: 800;
    color: #1e293b;
    margin-bottom: 15px;
  }
  
  .update-info {
    color: #64748b;
    font-style: italic;
    font-size: 1rem;
  }
  
  /* Container gambar */
  .image-container {
    display: flex;
    justify-content: center;
    margin-bottom: 40px;
  }
  
  .faq-image {
    max-width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    border: 1px solid #e2e8f0;
  }
  
  /* Container items FAQ */
  .faq-items {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 60px;
  }
  
  /* Animasi Framer Motion */
  [data-framer] {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  
  [data-framer].animated {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Blok warna besar di bagian bawah - EKSTRA BESAR */
  .color-block-extra-large {
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    color: white;
    padding: 150px 20px; /* Diperbesar secara vertikal */
    text-align: center;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    box-sizing: border-box;
  }
  
  .color-block-content {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .color-block-extra-large h2 {
    font-size: 3.5rem;
    margin-bottom: 30px;
    font-weight: 800;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
  }
  
  .color-block-extra-large p {
    font-size: 1.5rem;
    margin-bottom: 50px;
    line-height: 1.6;
    opacity: 0.9;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .cta-button-large {
    display: inline-block;
    background: white;
    color: #3b82f6;
    padding: 20px 50px;
    border-radius: 10px;
    text-decoration: none;
    font-weight: 700;
    font-size: 1.4rem;
    transition: all 0.3s ease;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
  }
  
  .cta-button-large:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
  }
  
  /* Responsive design */
  @media (max-width: 768px) {
    .container {
      padding: 0 15px;
    }
    
    .main-content {
      padding: 30px 0;
    }
    
    .marquee-content-large {
      font-size: 2rem;
      animation-duration: 15s;
    }
    
    .page-title {
      font-size: 2.2rem;
    }
    
    .color-block-extra-large {
      padding: 100px 20px;
    }
    
    .color-block-extra-large h2 {
      font-size: 2.5rem;
    }
    
    .color-block-extra-large p {
      font-size: 1.2rem;
    }
    
    .cta-button-large {
      padding: 16px 35px;
      font-size: 1.2rem;
    }
  }

  @media (max-width: 480px) {
    .marquee-content-large {
      font-size: 1.6rem;
    }
    
    .page-title {
      font-size: 1.8rem;
    }
    
    .color-block-extra-large h2 {
      font-size: 2rem;
    }
    
    .color-block-extra-large p {
      font-size: 1rem;
    }
    
    .cta-button-large {
      padding: 14px 30px;
      font-size: 1.1rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Tanggal pembaruan
    const now = new Date();
    const options = { 
      weekday: 'long', 
      year: 'numeric', 
      month: 'long', 
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    };
    const dateTimeStr = now.toLocaleDateString('id-ID', options);
    document.getElementById('currentDate').textContent = dateTimeStr;

    // Animasi scroll dengan Intersection Observer
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animated');
        }
      });
    }, observerOptions);

    document.querySelectorAll('[data-framer]').forEach(el => {
      observer.observe(el);
    });

    // Animasi gambar
    const image = document.querySelector('.faq-image');
    if (image) {
      image.style.opacity = '0';
      image.style.transform = 'scale(0.95)';
      image.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
      
      setTimeout(() => {
        image.style.opacity = '1';
        image.style.transform = 'scale(1)';
      }, 300);
    }

    // Animasi judul
    const title = document.querySelector('.page-title');
    if (title) {
      title.style.opacity = '0';
      title.style.transform = 'translateY(-15px)';
      title.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
      
      setTimeout(() => {
        title.style.opacity = '1';
        title.style.transform = 'translateY(0)';
      }, 100);
    }
  });
</script>
